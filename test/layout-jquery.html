<html>
    <head>
  <script src="../lib/underscore-1.4.3-min.js"></script>
  <script src="../lib/jquery-1.8.3.js"></script>
  <script src="../lib/jquery-ui-1.9.2.custom.min.js"></script>
  <script src="../src/observable.js"></script>
  <script src="../src/content.js"></script>
  <script src="../src/mindmap.js"></script>
  <link rel="stylesheet" type="text/css" href="../lib/jquery-ui-1.9.2.custom.min.css"/>
  <link rel="stylesheet" type="text/css" href="jquery-map.css" /> 
  <style>
    #map2 {position:absolute;width:1000; height:1000}
    #map1 {z-Index:-30;visibility:hidden; }
  </style>
    </head>
    <body>
    <div tabstop="0" id="map2" class="map"> </div>
    <div tabstop="0" id="map1" class="map"> </div>
    <script src="testtree.js"></script>
    <script>
          function dom_repaint_entire_map(active_content, jquery_map){
              jquery_map.children().detach();
              ideas_to_nodes(active_content).appendTo(jquery_map);
              paint_map_connections(jquery_map,connect_classes);
            }
            function jquery_repaint_map(active_content, active_jq_map,onComplete){
              var background_jq_map=$('#map1');
              dom_repaint_entire_map(active_content,background_jq_map);
              update_map(active_jq_map,visual_to_damjan(background_jq_map),onComplete);
            }
          $(function(){
              var active_content=content(test_tree());
              jquery_repaint_map(active_content,$('#map2'));
              attach_label_listeners($('#map2').find('.label'), $('#map2'),active_content);
              attach_map_listeners(active_content,$('#map2'), jquery_repaint_map);
            });
      </script>
    </body>
</html>
