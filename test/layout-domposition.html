<html>
    <head>
  <script src="../lib/underscore-1.4.3-min.js"></script>
  <script src="../lib/jquery-1.8.3.js"></script>
  <script src="../lib/jquery-ui-1.9.2.custom.min.js"></script>
  <script src="../src/observable.js"></script>
  <script src="../src/content.js"></script>
  <script src="../src/mindmap.js"></script>
  <link rel="stylesheet" type="text/css" href="../lib/jquery-ui-1.9.2.custom.min.css"/>
  <link rel="stylesheet" type="text/css" href="jquery-map.css" /> 
    </head>
    <body>
    <div tabstop="0" id="map1" class="map"> </div>
    <script src="testtree.js"></script>
    <script>
          function dom_repaint_and_reattach(active_content,jquery_map,onComplete){
            dom_repaint_entire_map(active_content,jquery_map, function(){
              attach_label_listeners(jquery_map.find('.label'), jquery_map,active_content);
              if(onComplete) onComplete();
            });
          }
          $(function(){
              var active_content=content(test_tree());
              dom_repaint_entire_map(active_content,$('#map1'));
              attach_label_listeners($('#map1').find('.label'), $('#map1'),active_content);
              attach_map_listeners(active_content,$('#map1'), dom_repaint_and_reattach);
            });
      </script>
    </body>
</html>
