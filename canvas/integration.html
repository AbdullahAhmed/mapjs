<html>
<body>
	<style>
		#container {
			background-color: #F4F0F8;
		}
		.ideaInput {
			position: absolute;
			border: none;
			z-index: 999;
			background-color: transparent;
			color: #F8F8F8;
			font-family: 'Helvetica';
			font-weight: bold;
			font-size: 13;
			text-align: center;
		}
		.ideaInput:focus {
			outline: none;
		}
	</style>
	<input type="button" onclick="mapModel.removeSubIdea()" value="delete"></input>
	<input type="button" onclick="mapModel.editNode()" value="edit"></input>
	<input type="button" onclick="mapModel.clear()" value="clear"></input>
	<div id="container"></div>
	<ul>
		<li>usability: add sibling of the currently active element on enter (not a child), give focus to newly created node</li>
		<li>multiline</li>
		<li>viewport</li>
	</ul>
	<script type="text/javascript" src="../lib/jquery-1.8.3.js"></script>
	<script type="text/javascript" src="../lib/underscore-1.4.3-min.js"></script>
	<script type="text/javascript" src="../lib/kinetic-v4.2.0.js"></script>
	<script type="text/javascript" src="../src/observable.js"></script>
	<script type="text/javascript" src="../src/kinetic.bezier.js"></script>
	<script type="text/javascript" src="../src/kinetic.idea.js"></script>
	<script type="text/javascript" src="../src/kinetic.connector.js"></script>
	<script type="text/javascript" src="../src/content.js"></script>
	<script type="text/javascript" src="../src/layout.js"></script>
	<script type="text/javascript" src="../src/map-model.js"></script>
	<script type="text/javascript" src="../test/testtree.js"></script>
	<script type="text/javascript" src="kinetic-mediator.js"></script>
	<script>
		(function () {
			var stage = new Kinetic.Stage({
				container: 'container',
				width: 2048,
				height: 2048,
				draggable: false
			}),
				idea = content(test_tree()),
				dimensionProvider = function (title) {
					var text = new Kinetic.Idea({
						text: title
					});
					return {
						width: text.getWidth(),
						height: text.getHeight()
					};
				},
				mapModel = new MAPJS.MapModel(function layoutCalculator(idea) {
					return MAPJS.calculateLayout(idea, dimensionProvider);
				}),
				mediator = new MAPJS.KineticMediator(mapModel, stage);
			window.mapModel = mapModel;
			mapModel.setIdea(idea);
		}());
	</script>
</body>
</html>
